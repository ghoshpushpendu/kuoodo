<ion-content center>

  <ion-fab class="menubtn" left top>
    <button ion-fab menuToggle>
      <ion-icon ios="ios-menu" md="md-menu"></ion-icon>
    </button>
  </ion-fab>

  <ion-fab small class="navigator" *ngIf="!rideMode" color="primary" middle right (click)="setCurrentLocation()">
    <button ion-fab>
      <ion-icon ios="ios-locate" md="md-locate"></ion-icon>
    </button>
  </ion-fab>

  <ion-card *ngIf="rideMode" class="driverInfo">
    <ion-item>
      <ion-avatar item-start>
        <img src="https://openclipart.org/image/2400px/svg_to_png/190113/1389952697.png">
      </ion-avatar>
      <h2>{{drivername}}</h2>
      <h2>{{phone}}</h2>
      <h3>{{arrivingDistance}} Away</h3>
      <h3> Time to arrive : {{arrivingDuration}} </h3>
      <span item-end *ngIf="arrival_status == 'arriving'">
        <ion-spinner name="bubbles"></ion-spinner>
      </span>
    </ion-item>
  </ion-card>


  <ion-card class="shadow-black controls">
    <ion-card-content>
      <div class="shadow-black border-radius">
        <ion-row>
          <ion-col class="location-icon">
            <strong class="bg-green"></strong>
          </ion-col>
          <ion-col class="pad-0">
            <ion-item class="bg-white border-bottom">
              <!-- <ion-label text-right>From</ion-label> -->
              <ion-input type="text" class="" disabled="true" placeholder="location from" [(ngModel)]="startAddress"></ion-input>
              <ion-icon name="md-locate" class="text-black"></ion-icon>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col class="location-icon">
            <strong class="bg-yellow"></strong>
          </ion-col>
          <ion-col class="pad-0">
            <ion-item class="bg-white" (tap)="showAddressModal()">
              <!--  <ion-label text-right>To</ion-label> -->
              <ion-input disabled="true" type="text" class="" [(ngModel)]="endAddress" placeholder="location to"></ion-input>
              <ion-icon name="md-locate" class="text-black"></ion-icon>
            </ion-item>
          </ion-col>
        </ion-row>
      </div>
    </ion-card-content>
  </ion-card>

  <div #map id="map"></div>

  <div *ngIf="otp != ''" class="qrCode">
    <qr-code [value]="otp" [size]="200"></qr-code>
    <p>Please ask the driver to scan it while starting ride</p>
  </div>


  <!-- choose cab -->
  <div class="card-box">
    <ion-card class="text-black">
      <ion-card-header>

        <small text-left class="mr-a">
          <ion-icon padding-right name="md-card" class="text-green"></ion-icon>
          Pay by card
        </small>
        <span text-center class="mx-a">Choose Cab Type</span>
      </ion-card-header>
      <ion-card-content>
        <div class="cab-scroll bg-white">
          <div class="cab-container">
            <div class="cab-type" *ngFor="let cab of cabTypes;let i = index">
              <div [ngClass]="{'img-box': true, 'active': (i == 1)}">
                <!-- <img src="assets/imgs/car-1.png"> -->
                <img src="assets/economy.png" src="{{'assets/'+cab.name+'.png'}}">
                <ion-badge item-end class="bg-green">2 mins</ion-badge>
              </div>
              <h4 class="text-black ">{{cab.name}}</h4>
              <small class="text-light " *ngIf="cab.cost">${{cab.cost}} - ${{cab.cost+5}}</small>
            </div>
            <!-- <div class="cab-type">
              <div class="img-box active">
                <img src="assets/imgs/car-1.png">
                <ion-badge item-end class="bg-green">2 mins</ion-badge>
              </div>
              <h4 class="text-black ">GoMeOnly</h4>
              <small class="text-light ">$45 - $50</small>
            </div> -->
          </div>
        </div>
        <ion-row padding-left padding-right>
          <ion-col col-2>
            <!-- <button ion-button full class="bg-green  shadow-green full">
              <ion-icon name="md-time"></ion-icon>
            </button> -->
          </ion-col>
          <ion-col col-10>
            <button ion-button full *ngIf="!rideMode && nearestDrivers.length != 0" ion-button (click)="bookDriver()"
              class="bg-green shadow-green full">REQUEST CAB</button>
          </ion-col>
        </ion-row>

      </ion-card-content>
    </ion-card>
  </div>

</ion-content>